(()=>{var __webpack_modules__={448:(module,__unused_webpack_exports,__webpack_require__)=>{eval("let waveEncoder = __webpack_require__(45)\n\nlet AudioContext = window.AudioContext || window.webkitAudioContext\n\nfunction createWorker (fn) {\n  let js = fn\n    .toString()\n    .replace(/^(\\(\\)\\s*=>|function\\s*\\(\\))\\s*{/, '')\n    .replace(/}$/, '')\n  let blob = new Blob([js])\n  return new Worker(URL.createObjectURL(blob))\n}\n\nfunction error (method) {\n  let event = new Event('error')\n  event.data = new Error('Wrong state for ' + method)\n  return event\n}\n\nlet context, processor\n\n/**\n * Audio Recorder with MediaRecorder API.\n *\n * @example\n * navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {\n *   let recorder = new MediaRecorder(stream)\n * })\n */\nclass MediaRecorder {\n  /**\n   * @param {MediaStream} stream The audio stream to record.\n   */\n  constructor (stream, config = null) {\n    /**\n     * The `MediaStream` passed into the constructor.\n     * @type {MediaStream}\n     */\n    this.stream = stream\n    this.config = config\n    /**\n     * The current state of recording process.\n     * @type {\"inactive\"|\"recording\"|\"paused\"}\n     */\n    this.state = 'inactive'\n\n    this.em = document.createDocumentFragment()\n    this.encoder = createWorker(MediaRecorder.encoder)\n\n    let recorder = this\n    this.encoder.addEventListener('message', e => {\n      let event = new Event('dataavailable')\n      event.data = new Blob([e.data], { type: recorder.mimeType })\n      recorder.em.dispatchEvent(event)\n      if (recorder.state === 'inactive') {\n        recorder.em.dispatchEvent(new Event('stop'))\n      }\n    })\n  }\n\n  /**\n   * Begins recording media.\n   *\n   * @param {number} [timeslice] The milliseconds to record into each `Blob`.\n   *                             If this parameter isnâ€™t included, single `Blob`\n   *                             will be recorded.\n   *\n   * @return {undefined}\n   *\n   * @example\n   * recordButton.addEventListener('click', () => {\n   *   recorder.start()\n   * })\n   */\n  start (timeslice) {\n    if (this.state !== 'inactive') {\n      return this.em.dispatchEvent(error('start'))\n    }\n\n    this.state = 'recording'\n\n    if (!context) {\n      context = new AudioContext(this.config)\n    }\n    this.clone = this.stream.clone()\n    this.input = context.createMediaStreamSource(this.clone)\n\n    if (!processor) {\n      processor = context.createScriptProcessor(2048, 1, 1)\n    }\n\n    let recorder = this\n\n    recorder.encoder.postMessage(['init', context.sampleRate])\n\n    processor.onaudioprocess = function (e) {\n      if (recorder.state === 'recording') {\n        recorder.encoder.postMessage([\n          'encode',\n          e.inputBuffer.getChannelData(0)\n        ])\n      }\n    }\n\n    this.input.connect(processor)\n    processor.connect(context.destination)\n\n    this.em.dispatchEvent(new Event('start'))\n\n    if (timeslice) {\n      this.slicing = setInterval(() => {\n        if (recorder.state === 'recording') recorder.requestData()\n      }, timeslice)\n    }\n\n    return undefined\n  }\n\n  /**\n   * Stop media capture and raise `dataavailable` event with recorded data.\n   *\n   * @return {undefined}\n   *\n   * @example\n   * finishButton.addEventListener('click', () => {\n   *   recorder.stop()\n   * })\n   */\n  stop () {\n    if (this.state === 'inactive') {\n      return this.em.dispatchEvent(error('stop'))\n    }\n\n    this.requestData()\n    this.state = 'inactive'\n    this.clone.getTracks().forEach(track => {\n      track.stop()\n    })\n    this.input.disconnect()\n    return clearInterval(this.slicing)\n  }\n\n  /**\n   * Pauses recording of media streams.\n   *\n   * @return {undefined}\n   *\n   * @example\n   * pauseButton.addEventListener('click', () => {\n   *   recorder.pause()\n   * })\n   */\n  pause () {\n    if (this.state !== 'recording') {\n      return this.em.dispatchEvent(error('pause'))\n    }\n\n    this.state = 'paused'\n    return this.em.dispatchEvent(new Event('pause'))\n  }\n\n  /**\n   * Resumes media recording when it has been previously paused.\n   *\n   * @return {undefined}\n   *\n   * @example\n   * resumeButton.addEventListener('click', () => {\n   *   recorder.resume()\n   * })\n   */\n  resume () {\n    if (this.state !== 'paused') {\n      return this.em.dispatchEvent(error('resume'))\n    }\n\n    this.state = 'recording'\n    return this.em.dispatchEvent(new Event('resume'))\n  }\n\n  /**\n   * Raise a `dataavailable` event containing the captured media.\n   *\n   * @return {undefined}\n   *\n   * @example\n   * this.on('nextData', () => {\n   *   recorder.requestData()\n   * })\n   */\n  requestData () {\n    if (this.state === 'inactive') {\n      return this.em.dispatchEvent(error('requestData'))\n    }\n\n    return this.encoder.postMessage(['dump', context.sampleRate])\n  }\n\n  /**\n   * Add listener for specified event type.\n   *\n   * @param {\"start\"|\"stop\"|\"pause\"|\"resume\"|\"dataavailable\"|\"error\"}\n   * type Event type.\n   * @param {function} listener The listener function.\n   *\n   * @return {undefined}\n   *\n   * @example\n   * recorder.addEventListener('dataavailable', e => {\n   *   audio.src = URL.createObjectURL(e.data)\n   * })\n   */\n  addEventListener (...args) {\n    this.em.addEventListener(...args)\n  }\n\n  /**\n   * Remove event listener.\n   *\n   * @param {\"start\"|\"stop\"|\"pause\"|\"resume\"|\"dataavailable\"|\"error\"}\n   * type Event type.\n   * @param {function} listener The same function used in `addEventListener`.\n   *\n   * @return {undefined}\n   */\n  removeEventListener (...args) {\n    this.em.removeEventListener(...args)\n  }\n\n  /**\n   * Calls each of the listeners registered for a given event.\n   *\n   * @param {Event} event The event object.\n   *\n   * @return {boolean} Is event was no canceled by any listener.\n   */\n  dispatchEvent (...args) {\n    this.em.dispatchEvent(...args)\n  }\n}\n\n/**\n * The MIME type that is being used for recording.\n * @type {string}\n */\nMediaRecorder.prototype.mimeType = 'audio/wav'\n\n/**\n * Returns `true` if the MIME type specified is one the polyfill can record.\n *\n * This polyfill supports `audio/wav` and `audio/mpeg`.\n *\n * @param {string} mimeType The mimeType to check.\n *\n * @return {boolean} `true` on `audio/wav` and `audio/mpeg` MIME type.\n */\nMediaRecorder.isTypeSupported = mimeType => {\n  return MediaRecorder.prototype.mimeType === mimeType\n}\n\n/**\n * `true` if MediaRecorder can not be polyfilled in the current browser.\n * @type {boolean}\n *\n * @example\n * if (MediaRecorder.notSupported) {\n *   showWarning('Audio recording is not supported in this browser')\n * }\n */\nMediaRecorder.notSupported = !navigator.mediaDevices || !AudioContext\n\n/**\n * Converts RAW audio buffer to compressed audio files.\n * It will be loaded to Web Worker.\n * By default, WAVE encoder will be used.\n * @type {function}\n *\n * @example\n * MediaRecorder.prototype.mimeType = 'audio/ogg'\n * MediaRecorder.encoder = oggEncoder\n */\nMediaRecorder.encoder = waveEncoder\n\nmodule.exports = MediaRecorder\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQ4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vU291bmRTcGlubmVyLy4vbm9kZV9tb2R1bGVzL2F1ZGlvLXJlY29yZGVyLXBvbHlmaWxsL2luZGV4LmNqcz8zNGI0Il0sInNvdXJjZXNDb250ZW50IjpbImxldCB3YXZlRW5jb2RlciA9IHJlcXVpcmUoJy4vd2F2ZS1lbmNvZGVyL2luZGV4LmNqcycpXG5cbmxldCBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHRcblxuZnVuY3Rpb24gY3JlYXRlV29ya2VyIChmbikge1xuICBsZXQganMgPSBmblxuICAgIC50b1N0cmluZygpXG4gICAgLnJlcGxhY2UoL14oXFwoXFwpXFxzKj0+fGZ1bmN0aW9uXFxzKlxcKFxcKSlcXHMqey8sICcnKVxuICAgIC5yZXBsYWNlKC99JC8sICcnKVxuICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtqc10pXG4gIHJldHVybiBuZXcgV29ya2VyKFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpXG59XG5cbmZ1bmN0aW9uIGVycm9yIChtZXRob2QpIHtcbiAgbGV0IGV2ZW50ID0gbmV3IEV2ZW50KCdlcnJvcicpXG4gIGV2ZW50LmRhdGEgPSBuZXcgRXJyb3IoJ1dyb25nIHN0YXRlIGZvciAnICsgbWV0aG9kKVxuICByZXR1cm4gZXZlbnRcbn1cblxubGV0IGNvbnRleHQsIHByb2Nlc3NvclxuXG4vKipcbiAqIEF1ZGlvIFJlY29yZGVyIHdpdGggTWVkaWFSZWNvcmRlciBBUEkuXG4gKlxuICogQGV4YW1wbGVcbiAqIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSkudGhlbihzdHJlYW0gPT4ge1xuICogICBsZXQgcmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pXG4gKiB9KVxuICovXG5jbGFzcyBNZWRpYVJlY29yZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVkaWFTdHJlYW19IHN0cmVhbSBUaGUgYXVkaW8gc3RyZWFtIHRvIHJlY29yZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChzdHJlYW0sIGNvbmZpZyA9IG51bGwpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYE1lZGlhU3RyZWFtYCBwYXNzZWQgaW50byB0aGUgY29uc3RydWN0b3IuXG4gICAgICogQHR5cGUge01lZGlhU3RyZWFtfVxuICAgICAqL1xuICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtXG4gICAgdGhpcy5jb25maWcgPSBjb25maWdcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiByZWNvcmRpbmcgcHJvY2Vzcy5cbiAgICAgKiBAdHlwZSB7XCJpbmFjdGl2ZVwifFwicmVjb3JkaW5nXCJ8XCJwYXVzZWRcIn1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gJ2luYWN0aXZlJ1xuXG4gICAgdGhpcy5lbSA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxuICAgIHRoaXMuZW5jb2RlciA9IGNyZWF0ZVdvcmtlcihNZWRpYVJlY29yZGVyLmVuY29kZXIpXG5cbiAgICBsZXQgcmVjb3JkZXIgPSB0aGlzXG4gICAgdGhpcy5lbmNvZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBlID0+IHtcbiAgICAgIGxldCBldmVudCA9IG5ldyBFdmVudCgnZGF0YWF2YWlsYWJsZScpXG4gICAgICBldmVudC5kYXRhID0gbmV3IEJsb2IoW2UuZGF0YV0sIHsgdHlwZTogcmVjb3JkZXIubWltZVR5cGUgfSlcbiAgICAgIHJlY29yZGVyLmVtLmRpc3BhdGNoRXZlbnQoZXZlbnQpXG4gICAgICBpZiAocmVjb3JkZXIuc3RhdGUgPT09ICdpbmFjdGl2ZScpIHtcbiAgICAgICAgcmVjb3JkZXIuZW0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3N0b3AnKSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEJlZ2lucyByZWNvcmRpbmcgbWVkaWEuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZXNsaWNlXSBUaGUgbWlsbGlzZWNvbmRzIHRvIHJlY29yZCBpbnRvIGVhY2ggYEJsb2JgLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdGhpcyBwYXJhbWV0ZXIgaXNu4oCZdCBpbmNsdWRlZCwgc2luZ2xlIGBCbG9iYFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lsbCBiZSByZWNvcmRlZC5cbiAgICpcbiAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiByZWNvcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAqICAgcmVjb3JkZXIuc3RhcnQoKVxuICAgKiB9KVxuICAgKi9cbiAgc3RhcnQgKHRpbWVzbGljZSkge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSAnaW5hY3RpdmUnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbS5kaXNwYXRjaEV2ZW50KGVycm9yKCdzdGFydCcpKVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSAncmVjb3JkaW5nJ1xuXG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCh0aGlzLmNvbmZpZylcbiAgICB9XG4gICAgdGhpcy5jbG9uZSA9IHRoaXMuc3RyZWFtLmNsb25lKClcbiAgICB0aGlzLmlucHV0ID0gY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0aGlzLmNsb25lKVxuXG4gICAgaWYgKCFwcm9jZXNzb3IpIHtcbiAgICAgIHByb2Nlc3NvciA9IGNvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKDIwNDgsIDEsIDEpXG4gICAgfVxuXG4gICAgbGV0IHJlY29yZGVyID0gdGhpc1xuXG4gICAgcmVjb3JkZXIuZW5jb2Rlci5wb3N0TWVzc2FnZShbJ2luaXQnLCBjb250ZXh0LnNhbXBsZVJhdGVdKVxuXG4gICAgcHJvY2Vzc29yLm9uYXVkaW9wcm9jZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChyZWNvcmRlci5zdGF0ZSA9PT0gJ3JlY29yZGluZycpIHtcbiAgICAgICAgcmVjb3JkZXIuZW5jb2Rlci5wb3N0TWVzc2FnZShbXG4gICAgICAgICAgJ2VuY29kZScsXG4gICAgICAgICAgZS5pbnB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVxuICAgICAgICBdKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaW5wdXQuY29ubmVjdChwcm9jZXNzb3IpXG4gICAgcHJvY2Vzc29yLmNvbm5lY3QoY29udGV4dC5kZXN0aW5hdGlvbilcblxuICAgIHRoaXMuZW0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3N0YXJ0JykpXG5cbiAgICBpZiAodGltZXNsaWNlKSB7XG4gICAgICB0aGlzLnNsaWNpbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmIChyZWNvcmRlci5zdGF0ZSA9PT0gJ3JlY29yZGluZycpIHJlY29yZGVyLnJlcXVlc3REYXRhKClcbiAgICAgIH0sIHRpbWVzbGljZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICAvKipcbiAgICogU3RvcCBtZWRpYSBjYXB0dXJlIGFuZCByYWlzZSBgZGF0YWF2YWlsYWJsZWAgZXZlbnQgd2l0aCByZWNvcmRlZCBkYXRhLlxuICAgKlxuICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGZpbmlzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICogICByZWNvcmRlci5zdG9wKClcbiAgICogfSlcbiAgICovXG4gIHN0b3AgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSAnaW5hY3RpdmUnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbS5kaXNwYXRjaEV2ZW50KGVycm9yKCdzdG9wJykpXG4gICAgfVxuXG4gICAgdGhpcy5yZXF1ZXN0RGF0YSgpXG4gICAgdGhpcy5zdGF0ZSA9ICdpbmFjdGl2ZSdcbiAgICB0aGlzLmNsb25lLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgdHJhY2suc3RvcCgpXG4gICAgfSlcbiAgICB0aGlzLmlucHV0LmRpc2Nvbm5lY3QoKVxuICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuc2xpY2luZylcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXVzZXMgcmVjb3JkaW5nIG9mIG1lZGlhIHN0cmVhbXMuXG4gICAqXG4gICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogcGF1c2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAqICAgcmVjb3JkZXIucGF1c2UoKVxuICAgKiB9KVxuICAgKi9cbiAgcGF1c2UgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSAncmVjb3JkaW5nJykge1xuICAgICAgcmV0dXJuIHRoaXMuZW0uZGlzcGF0Y2hFdmVudChlcnJvcigncGF1c2UnKSlcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0gJ3BhdXNlZCdcbiAgICByZXR1cm4gdGhpcy5lbS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncGF1c2UnKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN1bWVzIG1lZGlhIHJlY29yZGluZyB3aGVuIGl0IGhhcyBiZWVuIHByZXZpb3VzbHkgcGF1c2VkLlxuICAgKlxuICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIHJlc3VtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICogICByZWNvcmRlci5yZXN1bWUoKVxuICAgKiB9KVxuICAgKi9cbiAgcmVzdW1lICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ3BhdXNlZCcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVtLmRpc3BhdGNoRXZlbnQoZXJyb3IoJ3Jlc3VtZScpKVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSAncmVjb3JkaW5nJ1xuICAgIHJldHVybiB0aGlzLmVtLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXN1bWUnKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSYWlzZSBhIGBkYXRhYXZhaWxhYmxlYCBldmVudCBjb250YWluaW5nIHRoZSBjYXB0dXJlZCBtZWRpYS5cbiAgICpcbiAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9uKCduZXh0RGF0YScsICgpID0+IHtcbiAgICogICByZWNvcmRlci5yZXF1ZXN0RGF0YSgpXG4gICAqIH0pXG4gICAqL1xuICByZXF1ZXN0RGF0YSAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09ICdpbmFjdGl2ZScpIHtcbiAgICAgIHJldHVybiB0aGlzLmVtLmRpc3BhdGNoRXZlbnQoZXJyb3IoJ3JlcXVlc3REYXRhJykpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZW5jb2Rlci5wb3N0TWVzc2FnZShbJ2R1bXAnLCBjb250ZXh0LnNhbXBsZVJhdGVdKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBsaXN0ZW5lciBmb3Igc3BlY2lmaWVkIGV2ZW50IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7XCJzdGFydFwifFwic3RvcFwifFwicGF1c2VcInxcInJlc3VtZVwifFwiZGF0YWF2YWlsYWJsZVwifFwiZXJyb3JcIn1cbiAgICogdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogcmVjb3JkZXIuYWRkRXZlbnRMaXN0ZW5lcignZGF0YWF2YWlsYWJsZScsIGUgPT4ge1xuICAgKiAgIGF1ZGlvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZS5kYXRhKVxuICAgKiB9KVxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lciAoLi4uYXJncykge1xuICAgIHRoaXMuZW0uYWRkRXZlbnRMaXN0ZW5lciguLi5hcmdzKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBldmVudCBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtcInN0YXJ0XCJ8XCJzdG9wXCJ8XCJwYXVzZVwifFwicmVzdW1lXCJ8XCJkYXRhYXZhaWxhYmxlXCJ8XCJlcnJvclwifVxuICAgKiB0eXBlIEV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIFRoZSBzYW1lIGZ1bmN0aW9uIHVzZWQgaW4gYGFkZEV2ZW50TGlzdGVuZXJgLlxuICAgKlxuICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyICguLi5hcmdzKSB7XG4gICAgdGhpcy5lbS5yZW1vdmVFdmVudExpc3RlbmVyKC4uLmFyZ3MpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGV2ZW50IHdhcyBubyBjYW5jZWxlZCBieSBhbnkgbGlzdGVuZXIuXG4gICAqL1xuICBkaXNwYXRjaEV2ZW50ICguLi5hcmdzKSB7XG4gICAgdGhpcy5lbS5kaXNwYXRjaEV2ZW50KC4uLmFyZ3MpXG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgTUlNRSB0eXBlIHRoYXQgaXMgYmVpbmcgdXNlZCBmb3IgcmVjb3JkaW5nLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuTWVkaWFSZWNvcmRlci5wcm90b3R5cGUubWltZVR5cGUgPSAnYXVkaW8vd2F2J1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBNSU1FIHR5cGUgc3BlY2lmaWVkIGlzIG9uZSB0aGUgcG9seWZpbGwgY2FuIHJlY29yZC5cbiAqXG4gKiBUaGlzIHBvbHlmaWxsIHN1cHBvcnRzIGBhdWRpby93YXZgIGFuZCBgYXVkaW8vbXBlZ2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1pbWVUeXBlIFRoZSBtaW1lVHlwZSB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgb24gYGF1ZGlvL3dhdmAgYW5kIGBhdWRpby9tcGVnYCBNSU1FIHR5cGUuXG4gKi9cbk1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkID0gbWltZVR5cGUgPT4ge1xuICByZXR1cm4gTWVkaWFSZWNvcmRlci5wcm90b3R5cGUubWltZVR5cGUgPT09IG1pbWVUeXBlXG59XG5cbi8qKlxuICogYHRydWVgIGlmIE1lZGlhUmVjb3JkZXIgY2FuIG5vdCBiZSBwb2x5ZmlsbGVkIGluIHRoZSBjdXJyZW50IGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqXG4gKiBAZXhhbXBsZVxuICogaWYgKE1lZGlhUmVjb3JkZXIubm90U3VwcG9ydGVkKSB7XG4gKiAgIHNob3dXYXJuaW5nKCdBdWRpbyByZWNvcmRpbmcgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKVxuICogfVxuICovXG5NZWRpYVJlY29yZGVyLm5vdFN1cHBvcnRlZCA9ICFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIHx8ICFBdWRpb0NvbnRleHRcblxuLyoqXG4gKiBDb252ZXJ0cyBSQVcgYXVkaW8gYnVmZmVyIHRvIGNvbXByZXNzZWQgYXVkaW8gZmlsZXMuXG4gKiBJdCB3aWxsIGJlIGxvYWRlZCB0byBXZWIgV29ya2VyLlxuICogQnkgZGVmYXVsdCwgV0FWRSBlbmNvZGVyIHdpbGwgYmUgdXNlZC5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqXG4gKiBAZXhhbXBsZVxuICogTWVkaWFSZWNvcmRlci5wcm90b3R5cGUubWltZVR5cGUgPSAnYXVkaW8vb2dnJ1xuICogTWVkaWFSZWNvcmRlci5lbmNvZGVyID0gb2dnRW5jb2RlclxuICovXG5NZWRpYVJlY29yZGVyLmVuY29kZXIgPSB3YXZlRW5jb2RlclxuXG5tb2R1bGUuZXhwb3J0cyA9IE1lZGlhUmVjb3JkZXJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///448\n")},45:module=>{eval("// Copied from https://github.com/chris-rudmin/Recorderjs\n\nmodule.exports = () => {\n  let BYTES_PER_SAMPLE = 2\n\n  let recorded = []\n\n  function encode (buffer) {\n    let length = buffer.length\n    let data = new Uint8Array(length * BYTES_PER_SAMPLE)\n    for (let i = 0; i < length; i++) {\n      let index = i * BYTES_PER_SAMPLE\n      let sample = buffer[i]\n      if (sample > 1) {\n        sample = 1\n      } else if (sample < -1) {\n        sample = -1\n      }\n      sample = sample * 32768\n      data[index] = sample\n      data[index + 1] = sample >> 8\n    }\n    recorded.push(data)\n  }\n\n  function dump (sampleRate) {\n    let bufferLength = recorded.length ? recorded[0].length : 0\n    let length = recorded.length * bufferLength\n    let wav = new Uint8Array(44 + length)\n    let view = new DataView(wav.buffer)\n\n    // RIFF identifier 'RIFF'\n    view.setUint32(0, 1380533830, false)\n    // file length minus RIFF identifier length and file description length\n    view.setUint32(4, 36 + length, true)\n    // RIFF type 'WAVE'\n    view.setUint32(8, 1463899717, false)\n    // format chunk identifier 'fmt '\n    view.setUint32(12, 1718449184, false)\n    // format chunk length\n    view.setUint32(16, 16, true)\n    // sample format (raw)\n    view.setUint16(20, 1, true)\n    // channel count\n    view.setUint16(22, 1, true)\n    // sample rate\n    view.setUint32(24, sampleRate, true)\n    // byte rate (sample rate * block align)\n    view.setUint32(28, sampleRate * BYTES_PER_SAMPLE, true)\n    // block align (channel count * bytes per sample)\n    view.setUint16(32, BYTES_PER_SAMPLE, true)\n    // bits per sample\n    view.setUint16(34, 8 * BYTES_PER_SAMPLE, true)\n    // data chunk identifier 'data'\n    view.setUint32(36, 1684108385, false)\n    // data chunk length\n    view.setUint32(40, length, true)\n\n    // eslint-disable-next-line unicorn/no-for-loop\n    for (let i = 0; i < recorded.length; i++) {\n      wav.set(recorded[i], i * bufferLength + 44)\n    }\n\n    recorded = []\n    postMessage(wav.buffer, [wav.buffer])\n  }\n\n  onmessage = e => {\n    if (e.data[0] === 'encode') {\n      encode(e.data[1])\n    } else if (e.data[0] === 'dump') {\n      dump(e.data[1])\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Tb3VuZFNwaW5uZXIvLi9ub2RlX21vZHVsZXMvYXVkaW8tcmVjb3JkZXItcG9seWZpbGwvd2F2ZS1lbmNvZGVyL2luZGV4LmNqcz9lZDRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jaHJpcy1ydWRtaW4vUmVjb3JkZXJqc1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgbGV0IEJZVEVTX1BFUl9TQU1QTEUgPSAyXG5cbiAgbGV0IHJlY29yZGVkID0gW11cblxuICBmdW5jdGlvbiBlbmNvZGUgKGJ1ZmZlcikge1xuICAgIGxldCBsZW5ndGggPSBidWZmZXIubGVuZ3RoXG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShsZW5ndGggKiBCWVRFU19QRVJfU0FNUExFKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBpbmRleCA9IGkgKiBCWVRFU19QRVJfU0FNUExFXG4gICAgICBsZXQgc2FtcGxlID0gYnVmZmVyW2ldXG4gICAgICBpZiAoc2FtcGxlID4gMSkge1xuICAgICAgICBzYW1wbGUgPSAxXG4gICAgICB9IGVsc2UgaWYgKHNhbXBsZSA8IC0xKSB7XG4gICAgICAgIHNhbXBsZSA9IC0xXG4gICAgICB9XG4gICAgICBzYW1wbGUgPSBzYW1wbGUgKiAzMjc2OFxuICAgICAgZGF0YVtpbmRleF0gPSBzYW1wbGVcbiAgICAgIGRhdGFbaW5kZXggKyAxXSA9IHNhbXBsZSA+PiA4XG4gICAgfVxuICAgIHJlY29yZGVkLnB1c2goZGF0YSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGR1bXAgKHNhbXBsZVJhdGUpIHtcbiAgICBsZXQgYnVmZmVyTGVuZ3RoID0gcmVjb3JkZWQubGVuZ3RoID8gcmVjb3JkZWRbMF0ubGVuZ3RoIDogMFxuICAgIGxldCBsZW5ndGggPSByZWNvcmRlZC5sZW5ndGggKiBidWZmZXJMZW5ndGhcbiAgICBsZXQgd2F2ID0gbmV3IFVpbnQ4QXJyYXkoNDQgKyBsZW5ndGgpXG4gICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcod2F2LmJ1ZmZlcilcblxuICAgIC8vIFJJRkYgaWRlbnRpZmllciAnUklGRidcbiAgICB2aWV3LnNldFVpbnQzMigwLCAxMzgwNTMzODMwLCBmYWxzZSlcbiAgICAvLyBmaWxlIGxlbmd0aCBtaW51cyBSSUZGIGlkZW50aWZpZXIgbGVuZ3RoIGFuZCBmaWxlIGRlc2NyaXB0aW9uIGxlbmd0aFxuICAgIHZpZXcuc2V0VWludDMyKDQsIDM2ICsgbGVuZ3RoLCB0cnVlKVxuICAgIC8vIFJJRkYgdHlwZSAnV0FWRSdcbiAgICB2aWV3LnNldFVpbnQzMig4LCAxNDYzODk5NzE3LCBmYWxzZSlcbiAgICAvLyBmb3JtYXQgY2h1bmsgaWRlbnRpZmllciAnZm10ICdcbiAgICB2aWV3LnNldFVpbnQzMigxMiwgMTcxODQ0OTE4NCwgZmFsc2UpXG4gICAgLy8gZm9ybWF0IGNodW5rIGxlbmd0aFxuICAgIHZpZXcuc2V0VWludDMyKDE2LCAxNiwgdHJ1ZSlcbiAgICAvLyBzYW1wbGUgZm9ybWF0IChyYXcpXG4gICAgdmlldy5zZXRVaW50MTYoMjAsIDEsIHRydWUpXG4gICAgLy8gY2hhbm5lbCBjb3VudFxuICAgIHZpZXcuc2V0VWludDE2KDIyLCAxLCB0cnVlKVxuICAgIC8vIHNhbXBsZSByYXRlXG4gICAgdmlldy5zZXRVaW50MzIoMjQsIHNhbXBsZVJhdGUsIHRydWUpXG4gICAgLy8gYnl0ZSByYXRlIChzYW1wbGUgcmF0ZSAqIGJsb2NrIGFsaWduKVxuICAgIHZpZXcuc2V0VWludDMyKDI4LCBzYW1wbGVSYXRlICogQllURVNfUEVSX1NBTVBMRSwgdHJ1ZSlcbiAgICAvLyBibG9jayBhbGlnbiAoY2hhbm5lbCBjb3VudCAqIGJ5dGVzIHBlciBzYW1wbGUpXG4gICAgdmlldy5zZXRVaW50MTYoMzIsIEJZVEVTX1BFUl9TQU1QTEUsIHRydWUpXG4gICAgLy8gYml0cyBwZXIgc2FtcGxlXG4gICAgdmlldy5zZXRVaW50MTYoMzQsIDggKiBCWVRFU19QRVJfU0FNUExFLCB0cnVlKVxuICAgIC8vIGRhdGEgY2h1bmsgaWRlbnRpZmllciAnZGF0YSdcbiAgICB2aWV3LnNldFVpbnQzMigzNiwgMTY4NDEwODM4NSwgZmFsc2UpXG4gICAgLy8gZGF0YSBjaHVuayBsZW5ndGhcbiAgICB2aWV3LnNldFVpbnQzMig0MCwgbGVuZ3RoLCB0cnVlKVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tZm9yLWxvb3BcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY29yZGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3YXYuc2V0KHJlY29yZGVkW2ldLCBpICogYnVmZmVyTGVuZ3RoICsgNDQpXG4gICAgfVxuXG4gICAgcmVjb3JkZWQgPSBbXVxuICAgIHBvc3RNZXNzYWdlKHdhdi5idWZmZXIsIFt3YXYuYnVmZmVyXSlcbiAgfVxuXG4gIG9ubWVzc2FnZSA9IGUgPT4ge1xuICAgIGlmIChlLmRhdGFbMF0gPT09ICdlbmNvZGUnKSB7XG4gICAgICBlbmNvZGUoZS5kYXRhWzFdKVxuICAgIH0gZWxzZSBpZiAoZS5kYXRhWzBdID09PSAnZHVtcCcpIHtcbiAgICAgIGR1bXAoZS5kYXRhWzFdKVxuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///45\n")}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var n=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((n,t)=>(__webpack_require__.f[t](e,n),n)),[])),__webpack_require__.u=e=>e+".bundle.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),inProgress={},dataWebpackPrefix="SoundSpinner:",__webpack_require__.l=(e,n,t)=>{if(inProgress[e])inProgress[e].push(n);else{var g,c;if(void 0!==t)for(var I=document.getElementsByTagName("script"),l=0;l<I.length;l++){var B=I[l];if(B.getAttribute("src")==e||B.getAttribute("data-webpack")==dataWebpackPrefix+t){g=B;break}}g||(c=!0,(g=document.createElement("script")).charset="utf-8",g.timeout=120,__webpack_require__.nc&&g.setAttribute("nonce",__webpack_require__.nc),g.setAttribute("data-webpack",dataWebpackPrefix+t),g.src=e),inProgress[e]=[n];var i=(n,t)=>{g.onerror=g.onload=null,clearTimeout(C);var c=inProgress[e];if(delete inProgress[e],g.parentNode&&g.parentNode.removeChild(g),c&&c.forEach((e=>e(t))),n)return n(t)},C=setTimeout(i.bind(null,void 0,{type:"timeout",target:g}),12e4);g.onerror=i.bind(null,g.onerror),g.onload=i.bind(null,g.onload),c&&document.head.appendChild(g)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var n=__webpack_require__.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={179:0};__webpack_require__.f.j=(n,t)=>{var g=__webpack_require__.o(e,n)?e[n]:void 0;if(0!==g)if(g)t.push(g[2]);else{var c=new Promise(((t,c)=>{g=e[n]=[t,c]}));t.push(g[2]=c);var I=__webpack_require__.p+__webpack_require__.u(n),l=new Error;__webpack_require__.l(I,(t=>{if(__webpack_require__.o(e,n)&&(0!==(g=e[n])&&(e[n]=void 0),g)){var c=t&&("load"===t.type?"missing":t.type),I=t&&t.target&&t.target.src;l.message="Loading chunk "+n+" failed.\n("+c+": "+I+")",l.name="ChunkLoadError",l.type=c,l.request=I,g[1](l)}}),"chunk-"+n)}};var n=self.webpackChunkSoundSpinner=self.webpackChunkSoundSpinner||[],t=n.push.bind(n);n.push=n=>{for(var g,c,[I,l,B]=n,i=0,C=[];i<I.length;i++)c=I[i],__webpack_require__.o(e,c)&&e[c]&&C.push(e[c][0]),e[c]=0;for(g in l)__webpack_require__.o(l,g)&&(__webpack_require__.m[g]=l[g]);for(B&&B(__webpack_require__),t(n);C.length;)C.shift()()}})(),(()=>{eval('/**\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n const AudioRecorder = __webpack_require__(448);\nwindow.MediaRecorder = window.MediaRecorder || AudioRecorder || false;\nwindow.AudioContext = window.AudioContext // Default\n    || window.webkitAudioContext // Safari and old versions of Chrome\n    || false;\n\n\nPromise.all(/* AMD require */[__webpack_require__.e(626), __webpack_require__.e(413)]).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(393), __webpack_require__(574), __webpack_require__(503), __webpack_require__(672), __webpack_require__(748),__webpack_require__(55), __webpack_require__(563),\n\t__webpack_require__(317), __webpack_require__(587), __webpack_require__(255), __webpack_require__(725), __webpack_require__(602)]; (function(domReady, UserInterface, mainStyle, Waveform, Amplitude, Recorder, Player, Loader, StartAudioContext, Tone){\n\n    const Microphone = Tone.UserMedia;\n\n\tdomReady(function(){\n\t\tvar recordTime = 3;\n        var firstRecord = true;\n\t\tvar buttonTimeout  = -1;\n\t\tvar currentRotation = 0;\n\t\tvar rotationSpeed = 0;\n\t\tvar isDragging = false;\n\t\tvar dragSpeed = 0;\n        var computedSpeed = 0;\n\n        const meter = new Tone.Meter({\n\t\t\tchannels: 1,\n\t\t});\n        this.player = new Tone.Player().toDestination();\n        this.player.connect(meter);\n\n\n\t\t//INTERFACE////////////////////////////////////////////////\n\n\t\tvar interface = new UserInterface(recordTime * 1000, document.body);\n\n\t\tinterface.on("SpeedControllUpdate", function(speed){\n            rotationSpeed = speed;\n            if (Tone.Transport.state !== \'started\') {\n                Tone.Transport.start();\n            }\n\t\t});\n\n\t\tinterface.on("dragRateUpdate", function(drag){\n\t\t\tdragSpeed = (drag * 10);\n            // currentRotation += drag;\n            if (Tone.Transport.state !== \'started\') {\n                Tone.Transport.start();\n            }\n\t\t});\n\n\t\tinterface.on("StartWaveDrag", function(){\n            isDragging = true;\n            if (Tone.Transport.state !== \'started\') {\n                Tone.Transport.start();\n            }\n\t\t});\n\n\t\tinterface.on("EndWaveDrag", function(){\n\t\t\tdragSpeed = 0;\n\t\t\tisDragging = false;\n\t\t});\n\n\t\tinterface.on("StartRecord", (e) => {\n            if (Tone.Transport.state !== \'stopped\') {\n                Tone.Transport.stop();\n            }\n\t\t\trecorder.open(() => {\n                // buttonTimeout = setTimeout(function(){\n                //     console.log(\'stop it\')\n                //     recorder.stop();\n                // }, recordTime * 1000);\n\n                // this.player.buffer = null\n\t\t\t}, function(e){\n                //denied\n                interface.disableRecording();\n                window.parent.postMessage("error3","*");\n\t\t\t});\n\t\t});\n\n\t\tinterface.on("StopRecord", function(drag){\n            clearTimeout(buttonTimeout);\n            recorder.stop();\n            // Tone.Transport.scheduleRepeat((time) => {\n            //     player.start(time).stop(time + 0.1);\n            // }, "8n");\n            // //player.setBuffer(recorder.buffer);\n            // clearTimeout(buttonTimeout);\n            // Tone.Transport.start();\n\t\t});\n\n\t\tif (!Microphone.supported){\n\t\t\tinterface.disableRecording(function(){\n\t\t\t\t//unsupported\n\t\t\t\tconsole.log("unsupported");\n\t\t\t\twindow.parent.postMessage("error2","*");\n\t\t\t});\n\t\t}\n\n\n\t\t//AUDIO////////////////////////////////////////////////\n\n        var recorder = new Recorder(recordTime);\n\n\n\n        recorder.oncomplete = (buffer) => {\n            interface.stopRecording();\n            recorder.isRecording = false;\n            this.player.buffer = buffer;\n\n            if (Tone.Transport.state !== \'stopped\') {\n                this.player.unsync();\n            }\n            if (Tone.Transport.state !== \'stopped\') {\n                Tone.Transport.stop();\n            }\n            if (Tone.Transport.state !== \'started\') {\n                Tone.Transport.start();\n            }\n\n\n            this.player.sync().start(0);\n\n            Tone.Transport.loop = true;\n            Tone.Transport.loopStart = 0;\n            Tone.Transport.loopEnd = 3;\n\n\n            // this.transportId = Tone.Transport.scheduleRepeat((time) => {\n            //     //this.player.start(-0.5);\n            //     this.player.start(0);\n            // }, 0);\n\n            // Tone.Transport.loop = true;\n            // Tone.Transport.setLoopPoints(0, 3);\n\n\n            //player.reverse = true;\n            //player.playbackRate = 0.25;\n        }\n\n\t\tvar twoPI = Math.PI * 2;\n\n\t\tvar waveform = new Waveform(interface.waveDisplay, recorder, recorder.meterArray);\n\n\t\tfunction animateIn(){\n\t\t\t//bring everything in\n\t\t\tsetTimeout(function(){\n\t\t\t\tinterface.animateIn();\n\t\t\t\twaveform.animateIn(750);\n\t\t\t}, 100);\n        }\n\n        const buffer = new Tone.ToneAudioBuffer("audio/ladida.mp3", () => {\n           recorder.setBuffer(buffer);\n           recorder.oncomplete(buffer);\n\n            // var data = buffer.getChannelData(0);\n            buffer.getChannelData(0).forEach(i => {\n                recorder.meterArray.push(i)\n            })\n\n\n\t\t\twindow.parent.postMessage("loaded", "*");\n\t\t\t//send the ready message to the parent\n\t\t\tvar isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\n\t\t\t//full screen button on iOS\n\t\t\tif (isIOS){\n\t\t\t\t// Tone.js fix audio context state on touch devices\n\t\t\t\twindow.addEventListener(\'touchstart\', function() {\n\t\t\t\t\tif (Tone.context.state !== \'running\') {\n\t\t\t\t\t\tTone.context.resume();\n\t\t\t\t\t}\n\t\t\t\t}, false);\n\t\t\t} else {\n\t\t\t\tanimateIn();\n\n\t\t\t\tdocument.documentElement.addEventListener(\'click\', function() {\n\t\t\t\t\tif (Tone.context.state !== \'running\') {\n\t\t\t\t\t\tTone.context.resume();\n\t\t\t\t\t}\n\t\t\t\t}, false);\n\t\t\t}\n\n\t\t\twindow.parent.postMessage("ready", "*");\n        });\n\n\n\t\t//LOOOOOOOOOP////////////////////////////////////////////////\n\t\tvar lastFrame = -1;\n\n\t\tvar rotationQuotient = (Math.PI * 2 / 1000);\n        var forwardDirection;\n        var cachedSpeed\n\t\tfunction loop(){\n\t\t\trequestAnimationFrame(loop);\n\t\t\tvar speed = parseFloat(rotationSpeed);\n\t\t\tif (isDragging){\n\t\t\t\tspeed = parseFloat(dragSpeed);\n\t\t\t}\n\t\t\tvar alpha = 0.05;\n\n            computedSpeed = alpha * speed + (1 - alpha) * computedSpeed;\n            this.player.playbackRate = Math.abs(computedSpeed)\n\n            var firstSwitch = false\n            if (forwardDirection && computedSpeed < 0) {\n                firstSwitch = true\n                Tone.Transport.position = 0\n            } else if (!forwardDirection && computedSpeed >= 0) {\n                firstSwitch = true\n                //Tone.Transport.position = 0\n            }\n\n\n            if (computedSpeed < 0) {\n                this.player.reverse = true;\n                forwardDirection = false;\n            } else {\n                this.player.reverse = false;\n                forwardDirection = true;\n            }\n            if (cachedSpeed !== speed) {\n                cachedSpeed = speed;\n                Tone.Transport.setLoopPoints(0, this.player.buffer.duration / this.player.playbackRate);\n            }\n\n            Amplitude.setRMS(meter.getValue());\n            //console.log(meter.getLevel())\n\n            if (speed === 0) {\n                if (Tone.Transport.state !== \'stopped\') {\n                    Tone.Transport.stop();\n                }\n            } else {\n                if (Tone.Transport.state !== \'started\') {\n                    Tone.Transport.start();\n                }\n            }\n\n            //console.log(\'set loop point\', this.player.buffer.duration / this.player.playbackRate)\n\n            // Tone.Transport.setLoopPoints(0, 3 / this.player.playbackRate);\n\n\n\t\t\tif (!recorder.isRecording){\n                const direction = (this.player.reverse) ? -1 : 1;\n                //waveform.setRotation(Tone.Transport.progress * Math.PI * 2 * direction);\n                //waveform.setRotation(Tone.Transport.progress * Math.PI * 2);\n                if (!isNaN(Tone.Transport.progress) && Tone.Transport.progress) {\n                    waveform.setRotation(Tone.Transport.progress * direction);\n                } else {\n                    waveform.setRotation(0);\n                }\n\t\t\t} else {\n\t\t\t\tthis.player.playbackRate = 0;\n\t\t\t\twaveform.setRotation(0);\n\t\t\t}\n\t\t}\n\t\tloop();\n\n\t});\n}).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);}).catch(__webpack_require__.oe);\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vU291bmRTcGlubmVyLy4vYXBwL01haW4uanM/NDRiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiBjb25zdCBBdWRpb1JlY29yZGVyID0gcmVxdWlyZSgnYXVkaW8tcmVjb3JkZXItcG9seWZpbGwnKTtcbndpbmRvdy5NZWRpYVJlY29yZGVyID0gd2luZG93Lk1lZGlhUmVjb3JkZXIgfHwgQXVkaW9SZWNvcmRlciB8fCBmYWxzZTtcbndpbmRvdy5BdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IC8vIERlZmF1bHRcbiAgICB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0IC8vIFNhZmFyaSBhbmQgb2xkIHZlcnNpb25zIG9mIENocm9tZVxuICAgIHx8IGZhbHNlO1xuXG5cbnJlcXVpcmUoW1wiZG9tcmVhZHlcIiwgXCJpbnRlcmZhY2UvVXNlckludGVyZmFjZVwiLCBcIm1haW4uc2Nzc1wiLCBcIm1pYy9XYXZlZm9ybVwiLCBcIm1pYy9BbXBsaXR1ZGVcIixcIm1pYy9SZWNvcmRlclwiLCBcIm1pYy9QbGF5ZXJcIixcblx0XCJtaWMvTG9hZGVyXCIsIFwiU3RhcnRBdWRpb0NvbnRleHRcIiwgXCJUb25lXCIsICdUb3VjaHN0YXJ0JywgJ1Zpc2libGUnXSxcblx0ZnVuY3Rpb24oZG9tUmVhZHksIFVzZXJJbnRlcmZhY2UsIG1haW5TdHlsZSwgV2F2ZWZvcm0sIEFtcGxpdHVkZSwgUmVjb3JkZXIsIFBsYXllciwgTG9hZGVyLCBTdGFydEF1ZGlvQ29udGV4dCwgVG9uZSl7XG5cbiAgICBjb25zdCBNaWNyb3Bob25lID0gVG9uZS5Vc2VyTWVkaWE7XG5cblx0ZG9tUmVhZHkoZnVuY3Rpb24oKXtcblx0XHR2YXIgcmVjb3JkVGltZSA9IDM7XG4gICAgICAgIHZhciBmaXJzdFJlY29yZCA9IHRydWU7XG5cdFx0dmFyIGJ1dHRvblRpbWVvdXQgID0gLTE7XG5cdFx0dmFyIGN1cnJlbnRSb3RhdGlvbiA9IDA7XG5cdFx0dmFyIHJvdGF0aW9uU3BlZWQgPSAwO1xuXHRcdHZhciBpc0RyYWdnaW5nID0gZmFsc2U7XG5cdFx0dmFyIGRyYWdTcGVlZCA9IDA7XG4gICAgICAgIHZhciBjb21wdXRlZFNwZWVkID0gMDtcblxuICAgICAgICBjb25zdCBtZXRlciA9IG5ldyBUb25lLk1ldGVyKHtcblx0XHRcdGNoYW5uZWxzOiAxLFxuXHRcdH0pO1xuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBUb25lLlBsYXllcigpLnRvRGVzdGluYXRpb24oKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuY29ubmVjdChtZXRlcik7XG5cblxuXHRcdC8vSU5URVJGQUNFLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0XHR2YXIgaW50ZXJmYWNlID0gbmV3IFVzZXJJbnRlcmZhY2UocmVjb3JkVGltZSAqIDEwMDAsIGRvY3VtZW50LmJvZHkpO1xuXG5cdFx0aW50ZXJmYWNlLm9uKFwiU3BlZWRDb250cm9sbFVwZGF0ZVwiLCBmdW5jdGlvbihzcGVlZCl7XG4gICAgICAgICAgICByb3RhdGlvblNwZWVkID0gc3BlZWQ7XG4gICAgICAgICAgICBpZiAoVG9uZS5UcmFuc3BvcnQuc3RhdGUgIT09ICdzdGFydGVkJykge1xuICAgICAgICAgICAgICAgIFRvbmUuVHJhbnNwb3J0LnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG5cdFx0fSk7XG5cblx0XHRpbnRlcmZhY2Uub24oXCJkcmFnUmF0ZVVwZGF0ZVwiLCBmdW5jdGlvbihkcmFnKXtcblx0XHRcdGRyYWdTcGVlZCA9IChkcmFnICogMTApO1xuICAgICAgICAgICAgLy8gY3VycmVudFJvdGF0aW9uICs9IGRyYWc7XG4gICAgICAgICAgICBpZiAoVG9uZS5UcmFuc3BvcnQuc3RhdGUgIT09ICdzdGFydGVkJykge1xuICAgICAgICAgICAgICAgIFRvbmUuVHJhbnNwb3J0LnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG5cdFx0fSk7XG5cblx0XHRpbnRlcmZhY2Uub24oXCJTdGFydFdhdmVEcmFnXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChUb25lLlRyYW5zcG9ydC5zdGF0ZSAhPT0gJ3N0YXJ0ZWQnKSB7XG4gICAgICAgICAgICAgICAgVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cblx0XHR9KTtcblxuXHRcdGludGVyZmFjZS5vbihcIkVuZFdhdmVEcmFnXCIsIGZ1bmN0aW9uKCl7XG5cdFx0XHRkcmFnU3BlZWQgPSAwO1xuXHRcdFx0aXNEcmFnZ2luZyA9IGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0aW50ZXJmYWNlLm9uKFwiU3RhcnRSZWNvcmRcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChUb25lLlRyYW5zcG9ydC5zdGF0ZSAhPT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgICAgICAgICAgVG9uZS5UcmFuc3BvcnQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuXHRcdFx0cmVjb3JkZXIub3BlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gYnV0dG9uVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3N0b3AgaXQnKVxuICAgICAgICAgICAgICAgIC8vICAgICByZWNvcmRlci5zdG9wKCk7XG4gICAgICAgICAgICAgICAgLy8gfSwgcmVjb3JkVGltZSAqIDEwMDApO1xuXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5wbGF5ZXIuYnVmZmVyID0gbnVsbFxuXHRcdFx0fSwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgLy9kZW5pZWRcbiAgICAgICAgICAgICAgICBpbnRlcmZhY2UuZGlzYWJsZVJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoXCJlcnJvcjNcIixcIipcIik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdGludGVyZmFjZS5vbihcIlN0b3BSZWNvcmRcIiwgZnVuY3Rpb24oZHJhZyl7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoYnV0dG9uVGltZW91dCk7XG4gICAgICAgICAgICByZWNvcmRlci5zdG9wKCk7XG4gICAgICAgICAgICAvLyBUb25lLlRyYW5zcG9ydC5zY2hlZHVsZVJlcGVhdCgodGltZSkgPT4ge1xuICAgICAgICAgICAgLy8gICAgIHBsYXllci5zdGFydCh0aW1lKS5zdG9wKHRpbWUgKyAwLjEpO1xuICAgICAgICAgICAgLy8gfSwgXCI4blwiKTtcbiAgICAgICAgICAgIC8vIC8vcGxheWVyLnNldEJ1ZmZlcihyZWNvcmRlci5idWZmZXIpO1xuICAgICAgICAgICAgLy8gY2xlYXJUaW1lb3V0KGJ1dHRvblRpbWVvdXQpO1xuICAgICAgICAgICAgLy8gVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcblx0XHR9KTtcblxuXHRcdGlmICghTWljcm9waG9uZS5zdXBwb3J0ZWQpe1xuXHRcdFx0aW50ZXJmYWNlLmRpc2FibGVSZWNvcmRpbmcoZnVuY3Rpb24oKXtcblx0XHRcdFx0Ly91bnN1cHBvcnRlZFxuXHRcdFx0XHRjb25zb2xlLmxvZyhcInVuc3VwcG9ydGVkXCIpO1xuXHRcdFx0XHR3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKFwiZXJyb3IyXCIsXCIqXCIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cblx0XHQvL0FVRElPLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgdmFyIHJlY29yZGVyID0gbmV3IFJlY29yZGVyKHJlY29yZFRpbWUpO1xuXG5cblxuICAgICAgICByZWNvcmRlci5vbmNvbXBsZXRlID0gKGJ1ZmZlcikgPT4ge1xuICAgICAgICAgICAgaW50ZXJmYWNlLnN0b3BSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgIHJlY29yZGVyLmlzUmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5idWZmZXIgPSBidWZmZXI7XG5cbiAgICAgICAgICAgIGlmIChUb25lLlRyYW5zcG9ydC5zdGF0ZSAhPT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIudW5zeW5jKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVG9uZS5UcmFuc3BvcnQuc3RhdGUgIT09ICdzdG9wcGVkJykge1xuICAgICAgICAgICAgICAgIFRvbmUuVHJhbnNwb3J0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChUb25lLlRyYW5zcG9ydC5zdGF0ZSAhPT0gJ3N0YXJ0ZWQnKSB7XG4gICAgICAgICAgICAgICAgVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zeW5jKCkuc3RhcnQoMCk7XG5cbiAgICAgICAgICAgIFRvbmUuVHJhbnNwb3J0Lmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgVG9uZS5UcmFuc3BvcnQubG9vcFN0YXJ0ID0gMDtcbiAgICAgICAgICAgIFRvbmUuVHJhbnNwb3J0Lmxvb3BFbmQgPSAzO1xuXG5cbiAgICAgICAgICAgIC8vIHRoaXMudHJhbnNwb3J0SWQgPSBUb25lLlRyYW5zcG9ydC5zY2hlZHVsZVJlcGVhdCgodGltZSkgPT4ge1xuICAgICAgICAgICAgLy8gICAgIC8vdGhpcy5wbGF5ZXIuc3RhcnQoLTAuNSk7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5wbGF5ZXIuc3RhcnQoMCk7XG4gICAgICAgICAgICAvLyB9LCAwKTtcblxuICAgICAgICAgICAgLy8gVG9uZS5UcmFuc3BvcnQubG9vcCA9IHRydWU7XG4gICAgICAgICAgICAvLyBUb25lLlRyYW5zcG9ydC5zZXRMb29wUG9pbnRzKDAsIDMpO1xuXG5cbiAgICAgICAgICAgIC8vcGxheWVyLnJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgLy9wbGF5ZXIucGxheWJhY2tSYXRlID0gMC4yNTtcbiAgICAgICAgfVxuXG5cdFx0dmFyIHR3b1BJID0gTWF0aC5QSSAqIDI7XG5cblx0XHR2YXIgd2F2ZWZvcm0gPSBuZXcgV2F2ZWZvcm0oaW50ZXJmYWNlLndhdmVEaXNwbGF5LCByZWNvcmRlciwgcmVjb3JkZXIubWV0ZXJBcnJheSk7XG5cblx0XHRmdW5jdGlvbiBhbmltYXRlSW4oKXtcblx0XHRcdC8vYnJpbmcgZXZlcnl0aGluZyBpblxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRpbnRlcmZhY2UuYW5pbWF0ZUluKCk7XG5cdFx0XHRcdHdhdmVmb3JtLmFuaW1hdGVJbig3NTApO1xuXHRcdFx0fSwgMTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBUb25lLlRvbmVBdWRpb0J1ZmZlcihcImF1ZGlvL2xhZGlkYS5tcDNcIiwgKCkgPT4ge1xuICAgICAgICAgICByZWNvcmRlci5zZXRCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgICAgcmVjb3JkZXIub25jb21wbGV0ZShidWZmZXIpO1xuXG4gICAgICAgICAgICAvLyB2YXIgZGF0YSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgICAgIGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKS5mb3JFYWNoKGkgPT4ge1xuICAgICAgICAgICAgICAgIHJlY29yZGVyLm1ldGVyQXJyYXkucHVzaChpKVxuICAgICAgICAgICAgfSlcblxuXG5cdFx0XHR3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKFwibG9hZGVkXCIsIFwiKlwiKTtcblx0XHRcdC8vc2VuZCB0aGUgcmVhZHkgbWVzc2FnZSB0byB0aGUgcGFyZW50XG5cdFx0XHR2YXIgaXNJT1MgPSAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhd2luZG93Lk1TU3RyZWFtO1xuXG5cdFx0XHQvL2Z1bGwgc2NyZWVuIGJ1dHRvbiBvbiBpT1Ncblx0XHRcdGlmIChpc0lPUyl7XG5cdFx0XHRcdC8vIFRvbmUuanMgZml4IGF1ZGlvIGNvbnRleHQgc3RhdGUgb24gdG91Y2ggZGV2aWNlc1xuXHRcdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmIChUb25lLmNvbnRleHQuc3RhdGUgIT09ICdydW5uaW5nJykge1xuXHRcdFx0XHRcdFx0VG9uZS5jb250ZXh0LnJlc3VtZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgZmFsc2UpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YW5pbWF0ZUluKCk7XG5cblx0XHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKFRvbmUuY29udGV4dC5zdGF0ZSAhPT0gJ3J1bm5pbmcnKSB7XG5cdFx0XHRcdFx0XHRUb25lLmNvbnRleHQucmVzdW1lKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBmYWxzZSk7XG5cdFx0XHR9XG5cblx0XHRcdHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoXCJyZWFkeVwiLCBcIipcIik7XG4gICAgICAgIH0pO1xuXG5cblx0XHQvL0xPT09PT09PT09QLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFx0dmFyIGxhc3RGcmFtZSA9IC0xO1xuXG5cdFx0dmFyIHJvdGF0aW9uUXVvdGllbnQgPSAoTWF0aC5QSSAqIDIgLyAxMDAwKTtcbiAgICAgICAgdmFyIGZvcndhcmREaXJlY3Rpb247XG4gICAgICAgIHZhciBjYWNoZWRTcGVlZFxuXHRcdGZ1bmN0aW9uIGxvb3AoKXtcblx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcblx0XHRcdHZhciBzcGVlZCA9IHBhcnNlRmxvYXQocm90YXRpb25TcGVlZCk7XG5cdFx0XHRpZiAoaXNEcmFnZ2luZyl7XG5cdFx0XHRcdHNwZWVkID0gcGFyc2VGbG9hdChkcmFnU3BlZWQpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGFscGhhID0gMC4wNTtcblxuICAgICAgICAgICAgY29tcHV0ZWRTcGVlZCA9IGFscGhhICogc3BlZWQgKyAoMSAtIGFscGhhKSAqIGNvbXB1dGVkU3BlZWQ7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5wbGF5YmFja1JhdGUgPSBNYXRoLmFicyhjb21wdXRlZFNwZWVkKVxuXG4gICAgICAgICAgICB2YXIgZmlyc3RTd2l0Y2ggPSBmYWxzZVxuICAgICAgICAgICAgaWYgKGZvcndhcmREaXJlY3Rpb24gJiYgY29tcHV0ZWRTcGVlZCA8IDApIHtcbiAgICAgICAgICAgICAgICBmaXJzdFN3aXRjaCA9IHRydWVcbiAgICAgICAgICAgICAgICBUb25lLlRyYW5zcG9ydC5wb3NpdGlvbiA9IDBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWZvcndhcmREaXJlY3Rpb24gJiYgY29tcHV0ZWRTcGVlZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RTd2l0Y2ggPSB0cnVlXG4gICAgICAgICAgICAgICAgLy9Ub25lLlRyYW5zcG9ydC5wb3NpdGlvbiA9IDBcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTcGVlZCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZXZlcnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3J3YXJkRGlyZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJldmVyc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3J3YXJkRGlyZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYWNoZWRTcGVlZCAhPT0gc3BlZWQpIHtcbiAgICAgICAgICAgICAgICBjYWNoZWRTcGVlZCA9IHNwZWVkO1xuICAgICAgICAgICAgICAgIFRvbmUuVHJhbnNwb3J0LnNldExvb3BQb2ludHMoMCwgdGhpcy5wbGF5ZXIuYnVmZmVyLmR1cmF0aW9uIC8gdGhpcy5wbGF5ZXIucGxheWJhY2tSYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQW1wbGl0dWRlLnNldFJNUyhtZXRlci5nZXRWYWx1ZSgpKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cobWV0ZXIuZ2V0TGV2ZWwoKSlcblxuICAgICAgICAgICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKFRvbmUuVHJhbnNwb3J0LnN0YXRlICE9PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgVG9uZS5UcmFuc3BvcnQuc3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKFRvbmUuVHJhbnNwb3J0LnN0YXRlICE9PSAnc3RhcnRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgVG9uZS5UcmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3NldCBsb29wIHBvaW50JywgdGhpcy5wbGF5ZXIuYnVmZmVyLmR1cmF0aW9uIC8gdGhpcy5wbGF5ZXIucGxheWJhY2tSYXRlKVxuXG4gICAgICAgICAgICAvLyBUb25lLlRyYW5zcG9ydC5zZXRMb29wUG9pbnRzKDAsIDMgLyB0aGlzLnBsYXllci5wbGF5YmFja1JhdGUpO1xuXG5cblx0XHRcdGlmICghcmVjb3JkZXIuaXNSZWNvcmRpbmcpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9ICh0aGlzLnBsYXllci5yZXZlcnNlKSA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICAvL3dhdmVmb3JtLnNldFJvdGF0aW9uKFRvbmUuVHJhbnNwb3J0LnByb2dyZXNzICogTWF0aC5QSSAqIDIgKiBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIC8vd2F2ZWZvcm0uc2V0Um90YXRpb24oVG9uZS5UcmFuc3BvcnQucHJvZ3Jlc3MgKiBNYXRoLlBJICogMik7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihUb25lLlRyYW5zcG9ydC5wcm9ncmVzcykgJiYgVG9uZS5UcmFuc3BvcnQucHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgd2F2ZWZvcm0uc2V0Um90YXRpb24oVG9uZS5UcmFuc3BvcnQucHJvZ3Jlc3MgKiBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdhdmVmb3JtLnNldFJvdGF0aW9uKDApO1xuICAgICAgICAgICAgICAgIH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucGxheWVyLnBsYXliYWNrUmF0ZSA9IDA7XG5cdFx0XHRcdHdhdmVmb3JtLnNldFJvdGF0aW9uKDApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRsb29wKCk7XG5cblx0fSk7XG59KTtcbmZ1bmN0aW9uIG1hcF9yYW5nZSh2YWx1ZSwgbG93MSwgaGlnaDEsIGxvdzIsIGhpZ2gyKSB7XG4gICAgcmV0dXJuIGxvdzIgKyAoaGlnaDIgLSBsb3cyKSAqICh2YWx1ZSAtIGxvdzEpIC8gKGhpZ2gxIC0gbG93MSk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///842\n')})()})();